<!DOCTYPE html>
<html lang="en">
<head>
  <title>Clan Wars Rankings</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="controls">
    <input type="button" class="chng-view active" value="View Ranks"></button>
    <input type="button" class="chng-view" value="View Values"></button>
  </div>
  <table class="ratings-table">
  <th>Player</th>
  <th>Overall Avg Dmg</th>
  <th>Heavy Dmg</th>
  <th>Heavy Pen%</th>
  <th>Medium Dmg</th>
  <th>Medium Pen%</th>
  <th>Light Rating</th>
  <th>TD Dmg</th>
  <th>TD Pen%</th>
  <th>SPG Dmg</th>
  <th>CW Win %</th>
  <th>CW Battles</th>
  <!-- <th>Attendance</th>
  <th>Following Calls</th> -->
  {% for id, player in players.items() %}
  <tr>
    <td><a href="/player/{{id}}">{{player.nickname}}</a></td>

    {% if player.overall %}
    <td class="rank-{{player.overall.rank}}">
      <span>{{player.overall.rank}}</span>
      <input type=hidden value={{player.overall.dmg}}>
    </td>
    {% else %}
    <td class="no-rank">None</td>
    {% endif %}

    {% if player.HT %}
    <td class="rank-{{player.HT.rank}}">
      <span>{{player.HT.rank}}</span>
      <input type=hidden value={{player.HT.dmg}}>
    </td>
    <td class="rank-{{player.HT.hitPerRank}}">
      <span>{{player.HT.hitPerRank}}</span>
      <input type=hidden value={{player.HT.hitPer}}>
    </td>
    {% else %}
    <td class="no-rank">None</td>
    <td class="no-rank">None</td>
    {% endif %}

    {% if player.MT %}
    <td class="rank-{{player.MT.rank}}">
      <span>{{player.MT.rank}}</span>
      <input type=hidden value={{player.MT.dmg}}>
    </td>
    <td class="rank-{{player.MT.hitPerRank}}">
      <span>{{player.MT.hitPerRank}}</span>
      <input type=hidden value={{player.MT.hitPer}}>
    </td>
    {% else %}
    <td class="no-rank">None</td>
    <td class="no-rank">None</td>
    {% endif %}

    {% if player.LT %}
    <td class="rank-{{player.LT.rank}}">
      <span>{{player.LT.rank}}</span>
      <input type=hidden value={{player.LT.spot}}>
    </td>
    {% else %}
    <td class="no-rank">None</td>
    {% endif %}

    {% if player.TD %}
    <td class="rank-{{player.TD.rank}}">
      <span>{{player.TD.rank}}</span>
      <input type=hidden value={{player.TD.dmg}}>
    </td>
    <td class="rank-{{player.TD.hitPerRank}}">
      <span>{{player.TD.hitPerRank}}</span>
      <input type=hidden value={{player.TD.hitPer}}>
    </td>
    {% else %}
    <td class="no-rank">None</td>
    <td class="no-rank">None</td>
    {% endif %}

    {% if player.SPG %}
    <td class="rank-{{player.SPG.rank}}">
      <span>{{player.SPG.rank}}</span>
      <input type=hidden value={{player.SPG.dmg}}>
    </td>
    {% else %}
    <td class="no-rank">None</td>
    {% endif %}

    {% if player.winPer %}
    <td>
      {{player.winPer}}
    </td>
    <td>
      {{player.battles}}
    </td>
    {% else %}
    <td class="no-rank">No Battles</td>
    <td class="no-rank">No Battles</td>
    {% endif %}

  </tr>
  {% endfor %}
  </table>
</body>
<footer>
  <script
	  src="https://code.jquery.com/jquery-3.3.1.min.js"
	  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	  crossorigin="anonymous"></script>
  <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</footer>
